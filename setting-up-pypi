There are several ways to set up a pypi mirror, including bandersnatch and minirepo.  Also see pypistats (github).

--Using bandersnatch

Bandersnatch Notes

Install ubuntu 18.04  

sudo apt install virtualenv python3-venv  

python3 -m venv bandersnatch

. ./bandersnatch/bin/activate

pip install wheel

pip install bandersnatch

sudo bandersnatch/bin/bandersnatch mirror  (generates /etc/bandersnatch.cfg)

Rerun command to sync the mirror, full size as of May 2019 was over 500G.  

Use pypistats to trim it down to the popular packages.

pip install pypistats


pip install python-pypi-mirror

# Download the 'requests' package to the pypi-downloads directory:  
pypi-mirror -d pypi-downloads download requests  

# Now create the pypi mirror in the 'mirror' directory:
pypi-mirror -d pypi-packages create -m mirror  
